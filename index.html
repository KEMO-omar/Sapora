<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sapora Rocket | ุจูุงุจุฉ ูุณุชุฑ ูุฑูู ุนูุฑ</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="pos-bottom">

    <section id="auth-screen">
        <div class="auth-card">
            <div class="auth-header">
                <i class="fas fa-rocket fa-3x"></i>
                <h1>MONSTER ELITE</h1>
                <p>ููุตุฉ ุงููุณุชุฑ ูุฑูู ุนูุฑ ุงูุชุนููููุฉ</p>
            </div>
            
            <div class="auth-body">
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="userName" placeholder="ุงุณูู ุงูุญูููู">
                </div>
                
                <div class="input-group">
                    <i class="fas fa-door-open"></i>
                    <input type="text" id="roomID" placeholder="ุฑูู ุงูุบุฑูุฉ (ูุซูุงู: 2026)">
                </div>
                
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="roomPass" placeholder="ูููุฉ ุณุฑ ุงููุนูู (ุงุฎุชูุงุฑู ููุทุงูุจ)">
                </div>

                <div class="auth-buttons">
                    <button class="btn-student" onclick="rocket.login('student')">
                        <i class="fas fa-graduation-cap"></i> ุฏุฎูู ุทุงูุจ
                    </button>
                    <button class="btn-teacher" onclick="rocket.login('teacher')">
                        <i class="fas fa-chalkboard-teacher"></i> ุฏุฎูู ูุนูู
                    </button>
                </div>
            </div>
        </div>
    </section>

    <header class="top-bar">
        <div class="bar-right">
            <div class="status-badge">๐ <span id="zoom-info">100%</span></div>
            <div class="status-badge">๐ ุบุฑูุฉ: <span id="room-display">---</span></div>
        </div>
        
        <div class="bar-left">
            <div class="status-badge">โณ <span id="timer">00:00</span></div>
            <button class="status-badge btn-clickable" id="users-toggle">
                <i class="fas fa-users"></i> <span id="user-count">0</span>
            </button>
            <button class="status-badge btn-clickable" id="chat-toggle">
                <i class="fas fa-comments"></i> ุงูุฏุฑุฏุดุฉ
            </button>
        </div>
    </header>

    <main id="board-container">
        <canvas id="board"></canvas>
        
        <div id="tool-ruler" class="geo-tool ruler">
            <div class="resizer"></div>
        </div>
        <div id="tool-protractor" class="geo-tool protractor">
            <div class="resizer"></div>
        </div>
        <div id="tool-triangle" class="geo-tool triangle">
            <div class="resizer"></div>
        </div>
        <div id="tool-circle" class="geo-tool circle-tool">
            <div class="resizer"></div>
        </div>
    </main>

    <nav id="main-toolbar">
        <button class="tool-btn secondary" id="minimize-btn">
            <i class="fas fa-compress-alt"></i>
        </button>

        <div id="teacher-tools" class="hidden-tools">
            <div class="menu-wrapper">
                <button class="tool-btn" id="color-trigger">
                    <i class="fas fa-palette"></i>
                </button>
                <div id="color-menu" class="sub-menu">
                    <div class="color-grid">
                        <div class="color-dot" style="background:#000000" data-color="#000000"></div>
                        <div class="color-dot" style="background:#ff0000" data-color="#ff0000"></div>
                        <div class="color-dot" style="background:#00b7ff" data-color="#00b7ff"></div>
                        <div class="color-dot" style="background:#2ed573" data-color="#2ed573"></div>
                        <div class="color-dot" style="background:#ffa500" data-color="#ffa500"></div>
                        <div class="color-dot" style="background:#800080" data-color="#800080"></div>
                        <div class="color-dot" style="background:#ff4757" data-color="#ff4757"></div>
                        <div class="color-dot" style="background:#a52a2a" data-color="#a52a2a"></div>
                        <div class="color-dot" style="background:#7f8c8d" data-color="#7f8c8d"></div>
                        <div class="color-dot" style="background:#1abc9c" data-color="#1abc9c"></div>
                    </div>
                </div>
            </div>

            <div class="menu-wrapper">
                <button class="tool-btn active" id="pen-trigger">
                    <i class="fas fa-pen"></i>
                </button>
                <div id="pen-menu" class="sub-menu">
                    <div class="pen-types">
                        <button class="tool-btn sm" data-mode="pen" title="ููู ุฑุตุงุต"><i class="fas fa-pencil-alt"></i></button>
                        <button class="tool-btn sm" data-mode="marker" title="ููู ุณุจูุฑุฉ"><i class="fas fa-marker"></i></button>
                        <button class="tool-btn sm" data-mode="neon" title="ููู ูุถูุก"><i class="fas fa-magic"></i></button>
                        <button class="tool-btn sm" data-mode="brush" title="ูุฑุดุงุฉ"><i class="fas fa-paint-brush"></i></button>
                    </div>
                    <div class="thickness-slider-container">
                        <label>ุณูู ุงูุฎุท</label>
                        <input type="range" id="thickness-slider" min="1" max="50" value="3">
                        <span id="thickness-value">3</span>
                    </div>
                </div>
            </div>

            <div class="menu-wrapper">
                <button class="tool-btn" id="geo-trigger">
                    <i class="fas fa-shapes"></i>
                </button>
                <div id="geo-menu" class="sub-menu horizontal">
                    <button class="tool-btn sm" data-geo="tool-ruler"><i class="fas fa-ruler-horizontal"></i></button>
                    <button class="tool-btn sm" data-geo="tool-protractor"><i class="fas fa-compass"></i></button>
                    <button class="tool-btn sm" data-geo="tool-triangle"><i class="fas fa-draw-polygon"></i></button>
                    <button class="tool-btn sm" data-geo="tool-circle"><i class="far fa-circle"></i></button>
                </div>
            </div>

            <button class="tool-btn" id="eraser-btn" title="ููุญุงุฉ"><i class="fas fa-eraser"></i></button>
            <button class="tool-btn" id="undo-btn" title="ุชุฑุงุฌุน"><i class="fas fa-undo"></i></button>
            <button class="tool-btn text-danger" id="clear-btn" title="ูุณุญ ุงููู"><i class="fas fa-trash-alt"></i></button>
        </div>

        <button class="tool-btn" id="move-btn" title="ุชุญุฑูู ุงูุณุจูุฑุฉ"><i class="fas fa-hand-paper"></i></button>

        <div class="page-navigator">
            <button class="nav-btn" id="prev-page"><i class="fas fa-chevron-right"></i></button>
            <span id="page-display">1</span>
            <button class="nav-btn" id="next-page"><i class="fas fa-chevron-left"></i></button>
        </div>
    </nav>

    <aside id="chat-panel" class="side-panel">
        <div class="panel-header">ุงููุญุงุฏุซุฉ ุงููุจุงุดุฑุฉ <i class="fas fa-times close-panel"></i></div>
        <div id="chat-messages"></div>
        <div class="chat-input-area">
            <input type="text" id="chat-input" placeholder="ุงูุชุจ ุฑุณุงูุชู...">
            <button id="send-msg"><i class="fas fa-paper-plane"></i></button>
        </div>
    </aside>

    <aside id="users-panel" class="side-panel">
        <div class="panel-header">ุงููุชูุงุฌุฏูู ุงูุขู <i class="fas fa-times close-panel"></i></div>
        <div id="users-list"></div>
    </aside>

    <button id="restore-btn"><i class="fas fa-rocket"></i></button>

    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
